<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Your Blog</title>

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
            crossorigin="anonymous"
        />

        <!-- StyleSheet -->
        <link rel="stylesheet" href="/styles/style.css" />
    </head>
    <body>
        <%- include("partials/header.ejs") %>

        <main class="all-blogs container px-4 px-md-1">
            <div>
                <div class="mb-5">
                    <h1 class="mb-5">Your Blogs</h1>
                    <hr />
                </div>

                <% for (let i = 0; i < arr.length; i++) { %>

                <div class="single-card mb-5">
                    <div class="blog-img">
                        <img src="/uploads/<%= arr[i].imageName %>" alt="image" />
                    </div>

                    <div class="card-content">

                        <h5><%= arr[i].heading %></h5>
                        <div class="blog-date"><%= arr[i].dateCreated %></div>

                        <!-- Calling "trimStr()" function to trim the blog content string -->
                        <p><%= trimStr(arr[i].content, 11) %></p>

                        <a href="/showBlog/<%= i %>" class="stretched-link icon-link icon-link-hover link-underline link-underline-opacity-0">
                            Continue reading
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi" viewBox="0 0 16 16" aria-hidden="true">
                                <path d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                            </svg>
                        </a>

                    </div>
                </div>

                <% } %>
            </div>
        </main>

        <%- include("partials/footer.ejs") %>

        <!-- Bootstrap JS -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
            crossorigin="anonymous"
        ></script>

        <!-- To make the header hide when scrolling up and show when scrolling down -->
        <script src="/scripts/header.js"></script>
    </body>
</html>
